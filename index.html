<!DOCTYPE html>

<html lang="it">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1, viewport-fit=cover" name="viewport"/>
<title>Daedalium PMS</title>
<meta content="no-cache, no-store, must-revalidate" http-equiv="Cache-Control"/>
<meta content="no-cache" http-equiv="Pragma"/>
<meta content="0" http-equiv="Expires"/>
<link href="./styles.css?v=1.131" rel="stylesheet"/>
<link href="./manifest.json?v=1.131" rel="manifest"/>
<link href="./assets/icons/apple-touch-icon.png?v=1.131" rel="apple-touch-icon" sizes="180x180"/>
<link href="./assets/icons/apple-touch-icon.png?v=1.131" rel="apple-touch-icon-precomposed" sizes="180x180"/>
<link href="./assets/icons/favicon-32.png?v=1.131" rel="icon" sizes="32x32" type="image/png"/>
<link href="./assets/icons/favicon-16.png?v=1.131" rel="icon" sizes="16x16" type="image/png"/>
<meta content="#ffffff" name="theme-color"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="Daedalium PMS" name="apple-mobile-web-app-title"/>
<meta content="default" name="apple-mobile-web-app-status-bar-style"/>
</head>
<body>
<header class="topbar">
<div class="brand">
<div class="brand-left">
<img alt="Daedalium logo" class="logo" src="./assets/logo.jpg?v=1.131"/>
<h1>Daedalium PMS</h1>
</div>
<div class="brand-right">
<div class="top-pill" id="periodChip" title="Periodo attivo"></div>
<button aria-label="Home" class="icon-btn" id="hamburgerBtn">
<span aria-hidden="true" class="hamburger"></span>
</button>
</div>
</div>
</header>
<main class="wrap">
<!-- HOME (launcher) -->
<section class="page" id="page-home">
<div class="home-page">
<div class="home-spacer"></div>
<div aria-label="Sezioni" class="home-grid" role="navigation">
<button aria-label="Ospiti" class="home-main" id="goOspite" type="button">
<div aria-hidden="true" class="home-main-glyph alt"><svg aria-hidden="true" class="ui-ico" viewbox="0 0 24 24">
<path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Z"></path>
<path d="M4.5 21a7.5 7.5 0 0 1 15 0"></path>
</svg></div>
<div class="home-main-label">Ospiti</div>
</button>
<button aria-label="Apri Spese" class="home-main" id="openLauncher" type="button">
<div aria-hidden="true" class="home-main-glyph"><svg aria-hidden="true" class="ui-ico" viewbox="0 0 24 24">
<path d="M9 6.5h6"></path>
<path d="M9 6.5V5.5A2.5 2.5 0 0 1 11.5 3h1A2.5 2.5 0 0 1 15 5.5v1"></path>
<path d="M4.5 9.5h15a2 2 0 0 1 2 2v6.5a3 3 0 0 1-3 3h-13a3 3 0 0 1-3-3V11.5a2 2 0 0 1 2-2Z"></path>
<path d="M4.5 13h15"></path>
</svg></div>
<div class="home-main-label">Spese</div>
</button>
<button aria-label="Calendario" class="home-main" id="goCalendario" data-go="calendario" type="button">
<div aria-hidden="true" class="home-main-glyph alt"><svg aria-hidden="true" class="ui-ico" viewbox="0 0 24 24">
<path d="M7 3v3"></path>
<path d="M17 3v3"></path>
<path d="M4.5 8h15"></path>
<path d="M6 6h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z"></path>
<path d="M8 12h.01"></path>
<path d="M12 12h.01"></path>
<path d="M16 12h.01"></path>
<path d="M8 16h.01"></path>
<path d="M12 16h.01"></path>
<path d="M16 16h.01"></path>
</svg></div>
<div class="home-main-label">Calendario</div>
</button>
<button aria-label="Tassa" class="home-main" id="goTassaSoggiorno" type="button">
<div aria-hidden="true" class="home-main-glyph"><svg aria-hidden="true" class="ui-ico" viewbox="0 0 24 24">
<path d="M7 10V8.5A4.5 4.5 0 0 1 11.5 4h1A4.5 4.5 0 0 1 17 8.5V10"></path>
<path d="M5.5 10h13a2 2 0 0 1 2 2v6a3 3 0 0 1-3 3h-11a3 3 0 0 1-3-3v-6a2 2 0 0 1 2-2Z"></path>
<path d="M12 13v5"></path>
<path d="M10.2 14.8 12 13l1.8 1.8"></path>
</svg></div>
<div class="home-main-label">Tassa</div>
</button>
<button aria-label="Pulizie" class="home-main" id="goPulizie" type="button">
<div aria-hidden="true" class="home-main-glyph alt"><svg aria-hidden="true" class="ui-ico" viewbox="0 0 24 24">
<path d="M9 3h6"></path>
<path d="M10 3v3"></path>
<path d="M14 3v3"></path>
<path d="M8 6h8"></path>
<path d="M9 6v3a3 3 0 0 0 6 0V6"></path>
<path d="M7 12h10"></path>
<path d="M8 12l-2 9h12l-2-9"></path>
</svg></div>
<div class="home-main-label">Pulizie</div>
</button>
<button aria-label="Guadagni" class="home-main" id="goGuadagni" type="button">
<div aria-hidden="true" class="home-main-glyph"><svg aria-hidden="true" class="ui-ico" viewbox="0 0 24 24">
<path d="M7 9V7.5A2.5 2.5 0 0 1 9.5 5h5A2.5 2.5 0 0 1 17 7.5V9"></path>
<path d="M6 9h12a2 2 0 0 1 2 2v7a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-7a2 2 0 0 1 2-2Z"></path>
<path d="M9 15h6"></path>
<path d="M12 12v6"></path>
</svg></div>
<div class="home-main-label">Guadagni</div>
</button>
</div>
<div class="build" id="buildText">1.131</div>
<div class="home-spacer"></div>
</div>
</section>
<!-- 1) INSERISCI -->
<section class="page" hidden="" id="page-inserisci">
<div class="card">
<div class="hd"><h2>Inserisci spesa</h2></div>
<div class="bd">
<div class="field float">
<input id="spesaImporto" inputmode="decimal" min="0" placeholder=" " step="0.01" type="number"/>
<label for="spesaImporto">Importo (€)</label>
</div>
<div class="field float" style="margin-top:10px;">
<input autocomplete="off" id="spesaMotivazione" list="motivazioniList" placeholder=" "/>
<label for="spesaMotivazione">Motivazione</label>
<datalist id="motivazioniList"></datalist>
</div>
<div class="field float" style="margin-top:10px;">
<input id="spesaData" type="date"/>
<label for="spesaData">Data</label>
</div>
<div class="field float" style="margin-top:10px;">
<select id="spesaCategoria" required="">
<option value="">Seleziona…</option>
<option value="CONTANTI">Contanti</option>
<option value="TASSA_SOGGIORNO">Tassa soggiorno</option>
<option value="IVA_22">IVA 22%</option>
<option value="IVA_10">IVA 10%</option>
<option value="IVA_4">IVA 4%</option>
</select>
<label for="spesaCategoria">Categoria</label>
</div>
<div class="row" style="margin-top:14px;">
<button class="btn primary" id="btnSaveSpesa" style="flex:1;" type="button">Salva</button>
</div>
</div>
</div>
</section>
<!-- 2) SPESE -->
<section class="page" hidden="" id="page-spese">
<div class="card">
<div class="hd">
<h2>Spese</h2>
<div class="hd-actions">
<button aria-label="Grafico e riepilogo" class="sq-btn sq-btn-blue" id="btnSpeseInsights" type="button">
<div aria-hidden="true" class="sq-ico"><svg aria-hidden="true" class="ui-ico" viewBox="0 0 24 24">
<path d="M4 19V5"></path>
<path d="M4 19h16"></path>
<path d="M7 16v-4"></path>
<path d="M11 16v-7"></path>
<path d="M15 16v-3"></path>
<path d="M19 16v-9"></path>
</svg></div>
</button>
<button aria-label="Aggiungi spesa" class="sq-btn sq-btn-orange" id="btnAddSpesa" type="button">
<div aria-hidden="true" class="sq-ico"><svg aria-hidden="true" class="ui-ico" viewBox="0 0 24 24"><path d="M12 5v14"></path><path d="M5 12h14"></path></svg></div>
</button>
</div>
</div>
<div class="bd">
<div class="field period-preset">
<select aria-label="Periodo" id="periodPreset1">
<!-- options injected by JS -->
</select>
</div>
<div class="period-row">
<div class="field">
<label>Da</label>
<input id="fromDate" type="date"/>
</div>
<div class="field">
<label>A</label>
<input id="toDate" type="date"/>
</div>
</div>
<div id="speseViewList">
<div class="list" id="speseList"></div>
</div>
<div id="speseViewInsights" hidden>
<div class="kpi-stack kpi-top" style="margin-top:12px;">
<div class="kpi-card">
<div class="kpi-label">Totale spese</div>
<div class="kpi-value" id="kpiTotSpese">€ 0,00</div>
</div>
<div class="kpi-card accent">
<div class="kpi-label">IVA detraibile</div>
<div class="kpi-value" id="kpiIvaDetraibile">€ 0,00</div>
</div>
<div class="kpi-card">
<div class="kpi-label">Totale imponibile</div>
<div class="kpi-value" id="kpiImponibile">€ 0,00</div>
</div>
</div>
<div style="height:12px;"></div>
<div class="subhead">Totali per categoria</div>
<div class="catlist" id="byCat"></div>
<div style="height:14px;"></div>
<div class="chart-wrap">
<canvas aria-label="Grafico a torta per categoria" id="pieCanvas" width="320" height="320"></canvas>
</div>
<div class="legend" id="pieLegend"></div>
</div>
</div>
</div>
</section>
<!-- 3) RIEPILOGO -->


<!-- 4) GRAFICO -->


<!-- Pagina Ospite (DB) -->
<section aria-label="Nuovo ospite" class="page" hidden="" id="page-ospite">
<div class="content">
<div class="ospite-wrap">
<div class="card guest-form-card">
<div class="hd">
  <h2 id="ospiteFormTitle">Nuovo ospite</h2>
  <div class="guest-hd-actions" id="ospiteHdActions" hidden>
    <button class="tl-btn tl-green" type="button" data-guest-back aria-label="Torna alla lista ospiti"><span class="sr-only">Indietro</span></button>
    <button class="tl-btn tl-yellow" type="button" data-guest-edit aria-label="Modifica ospite"><span class="sr-only">Modifica</span></button>
    <button class="tl-btn tl-red" type="button" data-guest-del aria-label="Elimina ospite"><span class="sr-only">Elimina</span></button>
  </div>
</div>
<div class="bd form-stack">
<div class="field float">
<input autocomplete="name" id="guestName" placeholder=" " type="text"/>
<label for="guestName">Nome ospite</label>
</div>
<div class="field two-col">
<div class="subfield field float">
<input id="guestAdults" inputmode="numeric" min="0" placeholder=" " step="1" type="number"/>
<label for="guestAdults">Adulti</label>
</div>
<div class="subfield field float">
<input id="guestKidsU10" inputmode="numeric" min="0" placeholder=" " step="1" type="number"/>
<label for="guestKidsU10">Bambini &lt; 10</label>
</div>
</div>
<div class="field two-col">
<div class="subfield field float">
<input id="guestCheckIn" type="date"/>
<label for="guestCheckIn">Check-in</label>
</div>
<div class="subfield field float">
<input id="guestCheckOut" type="date"/>
<label for="guestCheckOut">Check-out</label>
</div>
</div>
<div class="field">
<label>Stanze</label>
<div aria-label="Seleziona stanze" class="rooms" id="roomsPicker" role="group">
<button aria-pressed="false" class="room-dot" data-room="1" type="button">1</button>
<button aria-pressed="false" class="room-dot" data-room="2" type="button">2</button>
<button aria-pressed="false" class="room-dot" data-room="3" type="button">3</button>
<button aria-pressed="false" class="room-dot" data-room="4" type="button">4</button>
<button aria-pressed="false" class="room-dot" data-room="5" type="button">5</button>
<button aria-pressed="false" class="room-dot" data-room="6" type="button">6</button>
<button aria-pressed="false" class="room-dot room-dot-marriage" id="roomMarriage" type="button" title="Matrimonio">M</button>
</div>
<div id="roomsReadOnly" class="rooms-readonly" hidden></div>
</div>

<div class="field float">
<input id="guestTotal" inputmode="decimal" placeholder=" " step="0.01" type="number"/>
<label for="guestTotal">Importo prenotazione (€)</label>
</div>
<div class="field float">
<input id="guestBooking" inputmode="decimal" placeholder=" " step="0.01" type="number"/>
<label for="guestBooking">Importo booking (€)</label>
</div>
<div class="field two-col payment-row">
<div class="subfield field float">
<input id="guestDeposit" inputmode="decimal" placeholder=" " step="0.01" type="number"/>
<label for="guestDeposit">Acconto (€)</label>
</div>
<div class="subfield paywrap">
    <div aria-label="Tipo acconto" class="pay-pill" id="depositType" role="group">
  <button class="pay-dot pay-cash selected" data-type="contante" aria-pressed="true" type="button" title="Contanti"></button>
  <button class="pay-dot pay-elec" data-type="elettronico" aria-pressed="false" type="button" title="Elettronico"></button>
  <button class="pay-dot pay-receipt" data-receipt="1" aria-pressed="false" type="button" title="Ricevuta"></button>
</div>
</div>
</div>
<div class="field two-col payment-row">
  <div class="subfield field float">
    <input id="guestSaldo" inputmode="decimal" placeholder="0" type="number" min="0" step="0.01"/>
    
  
    <label for="guestSaldo">Saldo (€)</label>
</div>
  <div class="subfield paywrap">
    <div aria-label="Saldo" class="pay-pill" id="saldoType" role="group">
      <button class="pay-dot pay-cash selected" data-type="contante" aria-pressed="true" type="button" title="Contanti"></button>
      <button class="pay-dot pay-elec" data-type="elettronico" aria-pressed="false" type="button" title="Elettronico"></button>
      <button class="pay-dot pay-receipt" data-receipt="1" aria-pressed="false" type="button" title="Ricevuta"></button>
    </div>
    
  </div>
</div>

<div class="field two-col payment-row">
  <div class="subfield field float">
    <input id="guestRemaining" inputmode="decimal" placeholder=" " type="number" min="0" step="0.01" readonly/>
    <label for="guestRemaining">Rimanenza da pagare (€)</label>
  </div>
  <div class="subfield paywrap">
    <div aria-label="Registrazioni" class="pay-pill" id="regTags" role="group">
      <button class="pay-dot pay-ps" data-flag="ps" aria-pressed="false" type="button" title="Polizia di Stato"></button>
      <span class="pay-dot pay-gap" aria-hidden="true"></span>
      <button class="pay-dot pay-istat" data-flag="istat" aria-pressed="false" type="button" title="ISTAT"></button>
    </div>
  </div>
</div>


<button class="btn primary" id="createGuestCard" type="button">Crea scheda cliente</button>
</div>
</div>
</div>
</div>
</section><section aria-label="Ospiti" class="page" hidden="" id="page-ospiti"><div class="content"><div class="ospite-wrap"><div class="card guest-cards-card"><div class="hd"><h2>Ospiti</h2><button id="btnNewGuestOspiti" class="btn-add-guest" type="button" aria-label="Nuovo ospite">+</button></div><div class="bd">
<div class="guest-filter-grid" aria-label="Filtri ospiti">
  <div class="field gf-tile gf-sort" aria-label="Ordinamento">
    <select id="guestSortBy" aria-label="Ordina ospiti per">
      <option value="inserimento">Inserimento</option>
      <option value="arrivo">Arrivo</option>
      <option value="nome">Nome</option>
    </select>
    <button class="gf-dir" id="guestSortDir" type="button" aria-label="Direzione ordinamento" aria-pressed="false">↓</button>
  </div>
  <div class="field gf-tile" aria-label="Periodo rapido">
    <select aria-label="Periodo" id="periodPreset4">
      <!-- options injected by JS -->
    </select>
  </div>
  <div class="field gf-tile" aria-label="Da">
    <input id="fromDate4" type="date" aria-label="Da"/>
  </div>
  <div class="field gf-tile" aria-label="A">
    <input id="toDate4" type="date" aria-label="A"/>
  </div>
</div>
<div class="guest-cards" id="guestCards"></div></div></div></div></div></section>

<!-- CALENDARIO -->
<section aria-label="Calendario" class="page" hidden="" id="page-calendario">
  <div class="content calendar-page">
    <div class="cal-nav">
      <div class="cal-nav-row" role="group" aria-label="Navigazione calendario">
        <button class="cal-nav-btn" id="calPickBtn" type="button" aria-label="Seleziona data">
          <svg class="ui-ico" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M7 3v3"></path>
            <path d="M17 3v3"></path>
            <path d="M4.5 8h15"></path>
            <path d="M6 6h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z"></path>
          </svg>
        </button>
        <button class="cal-nav-btn" id="calTodayBtn" type="button" aria-label="Settimana corrente">
          <svg class="ui-ico" viewBox="0 0 24 24" aria-hidden="true">
            <circle cx="12" cy="12" r="8"></circle>
            <circle cx="12" cy="12" r="2"></circle>
          </svg>
        </button>
        <button class="cal-nav-btn" id="calPrevBtn" type="button" aria-label="Settimana precedente">
          <svg class="ui-ico" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M15 18l-6-6 6-6"></path>
          </svg>
        </button>
        <button class="cal-nav-btn" id="calNextBtn" type="button" aria-label="Settimana successiva">
          <svg class="ui-ico" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M9 18l6-6-6-6"></path>
          </svg>
        </button>

        <input id="calDateInput" type="date" class="cal-date-input" aria-label="Data" />
      </div>
    </div>

    <div class="cal-body">
      <div class="cal-week-title" id="calWeekTitle">GENNAIO</div>
      <div class="cal-grid-wrap">
      <div class="cal-grid" id="calGrid" aria-label="Calendario settimanale"></div>
    </div>
    </div>

    <div class="cal-legend" aria-label="Legenda letti">
      <div class="cal-legend-item"><span class="cal-legend-dot bed-dot bed-dot-m" aria-hidden="true"></span><span>Matrimoniale</span></div>
      <div class="cal-legend-item"><span class="cal-legend-dot bed-dot bed-dot-s" aria-hidden="true"></span><span>Singolo</span></div>
      <div class="cal-legend-item"><span class="cal-legend-dot bed-dot bed-dot-c" aria-hidden="true"></span><span>Culla</span></div>
    </div>
  </div>
</section>

</main>
<div class="toast" id="toast"></div>
<!-- Loader globale -->
<div class="loading-overlay" hidden="" id="loadingOverlay">
<div class="loading-shell">
<div aria-label="Caricamento" aria-live="polite" class="loading-card" role="status">
<div aria-hidden="true" class="loading-hourglass"><svg aria-hidden="true" class="ui-ico" viewbox="0 0 24 24">
<path d="M7 3h10"></path>
<path d="M7 21h10"></path>
<path d="M8 3c0 4 4 5 4 9s-4 5-4 9"></path>
<path d="M16 3c0 4-4 5-4 9s4 5 4 9"></path>
</svg></div>
<div class="loading-text">Caricamento…</div>
</div>
</div>
</div>
<script defer="" src="./config.js?v=1.131"></script>
<script defer="" src="./app.js?v=1.131"></script>

<!-- ROOM CONFIG MODAL -->
<div id="roomConfigModal" hidden class="modal">
  <div class="modal-card">
    <h3 id="roomConfigTitle"></h3>
    <div class="row"><span>Matrimoniale</span><div class="dots" id="rc_matrimoniale"></div></div>
    <div class="row"><span>Letti singoli</span><div class="dots" id="rc_singoli"></div></div>
    <div class="row"><span>Culla</span><div class="dots" id="rc_culla"></div></div>
    <div class="row"><button id="rc_save" class="btn primary" type="button">Conferma</button></div>
  </div>
</div>

</body>
</html>
